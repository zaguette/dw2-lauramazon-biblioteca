<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Escolar</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Fontes elegantes para cabeÃ§alho e texto corpo -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700;900&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-content header-centered">
            <!-- Ã­cone discreto de estante + tÃ­tulo -->
            <div class="brand-with-icon" style="display:flex;align-items:center;gap:10px;">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <rect x="2" y="3" width="20" height="18" rx="3" fill="#fff8f0" opacity="0.06"/>
                    <path d="M4 7h16M4 11h16M4 15h16" stroke="#fff8f0" stroke-opacity="0.9" stroke-width="0.9" stroke-linecap="round"/>
                    <path d="M7 19V7" stroke="#2f5d3b" stroke-width="1.1" stroke-linecap="round"/>
                </svg>
                <h1 style="font-family: 'Merriweather', serif; margin:0;">Biblioteca Escolar</h1>
            </div>
            <input type="search" id="search-bar" placeholder="Buscar por tÃ­tulo ou autor..." aria-label="Buscar livros">
        </div>
    </header>

    <!-- Nav centralizada logo abaixo do header -->
    <nav class="main-nav nav-centered nav-below-header" role="navigation" aria-label="NavegaÃ§Ã£o principal">
        <button class="nav-btn active" id="nav-catalogo" aria-label="Ir para catÃ¡logo" type="button">CatÃ¡logo</button>
        <button class="nav-btn" id="nav-gerenciar" aria-label="Ir para gerenciar" type="button">Gerenciar</button>
        <button class="nav-btn" id="nav-relatorios" aria-label="Ir para relatÃ³rios" type="button">RelatÃ³rios</button>
    </nav>

    <div class="main-layout">
        <aside class="sidebar" aria-label="Filtros de livros">
            <div class="filters-card">
                <h2>Filtros</h2>
                <div class="filter-group">
                    <label for="filter-genre">ðŸŽ­ GÃªnero:</label>
                    <select id="filter-genre">
                        <option value="">Todos</option>
                        <option value="Romance">Romance</option>
                        <option value="Aventura">Aventura</option>
                        <option value="Fantasia">Fantasia</option>
                        <option value="Suspense">Suspense</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-year">ðŸ“… Ano:</label>
                    <input type="number" id="filter-year" min="1900" max="2025" placeholder="Ano">
                </div>
                <div class="filter-group">
                    <label for="filter-status">ðŸ“– Status:</label>
                    <select id="filter-status">
                        <option value="">Todos</option>
                        <option value="disponÃ­vel">DisponÃ­vel</option>
                        <option value="emprestado">Emprestado</option>
                    </select>
                </div>
                <button class="button" id="aplicar-filtros">Aplicar Filtros</button>
                <button class="button" id="limpar-filtros" style="background: #666; margin-top: 10px;">Limpar Filtros</button>
            </div>
        </aside>

        <main class="content-area">
            <!-- CatÃ¡logo -->
            <section id="sec-catalogo" class="book-list" aria-label="Lista de livros">
                <div id="book-grid" class="book-grid">
                    <div class="empty-state">
                        <p>Nenhum livro encontrado. Adicione um novo livro ou ajuste os filtros.</p>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="button" id="add-book-btn" aria-label="Adicionar novo livro" accesskey="n">Novo Livro</button>
                    <button class="button" id="open-emprestimo-btn" aria-label="Abrir modal de EmprÃ©stimo/DevoluÃ§Ã£o">EmprÃ©stimo/DevoluÃ§Ã£o</button>
                </div>
            </section>

            <!-- Gerenciar -->
            <section id="sec-gerenciar" class="form-container" aria-label="Gerenciar livros" hidden>
                <h2>Cadastro/EdiÃ§Ã£o de Livro</h2>
                <p>Use o modal "Novo Livro" para adicionar ou editar livros.</p>
            </section>

            <!-- Modal Novo Livro -->
            <div id="modal-novo-livro" class="modal" hidden>
                <div class="modal-content">
                    <button class="close-modal">&times;</button>
                    <h2>Novo Livro</h2>
                    <form id="form-novo-livro" autocomplete="off">
                        <input type="hidden" id="livro-id" value="">
                        <div class="form-group">
                            <label for="titulo">TÃ­tulo*</label>
                            <input type="text" id="titulo" name="titulo" required minlength="3" maxlength="90" aria-label="TÃ­tulo do livro">
                            <span id="titulo-erro" class="erro" style="display:none;">TÃ­tulo jÃ¡ existe!</span>
                        </div>
                        <div class="form-group">
                            <label for="autor">Autor*</label>
                            <input type="text" id="autor" name="autor" required aria-label="Autor do livro">
                        </div>
                        <div class="form-group">
                            <label for="ano">Ano*</label>
                            <input type="number" id="ano" name="ano" required min="1900" max="2025" aria-label="Ano de publicaÃ§Ã£o">
                        </div>
                        <div class="form-group">
                            <label for="paginas">NÃºmero de PÃ¡ginas</label>
                            <input type="number" id="paginas" name="paginas" aria-label="NÃºmero de pÃ¡ginas do livro">
                        </div>
                        <div class="form-group">
                            <label for="genero">GÃªnero</label>
                            <select id="genero" name="genero" aria-label="GÃªnero do livro">
                                <option value="Romance">Romance</option>
                                <option value="Aventura">Aventura</option>
                                <option value="Fantasia">Fantasia</option>
                                <option value="Suspense">Suspense</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="isbn">ISBN</label>
                            <input type="text" id="isbn" name="isbn" aria-label="ISBN do livro">
                        </div>
                        <div class="form-group">
                            <label for="capa">Capa do Livro (URL)</label>
                            <input type="text" id="capa" name="capa" placeholder="https://...">
             </div>
                        <div class="form-group">
                            <label for="descricao">DescriÃ§Ã£o</label>
                            <textarea id="descricao" name="descricao" rows="4" placeholder="Escreva uma breve descriÃ§Ã£o do livro"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="status">Status*</label>
                            <select id="status" name="status" required aria-label="Status do livro">
                                <option value="disponÃ­vel">DisponÃ­vel</option>
                                <option value="emprestado">Emprestado</option>
                            </select>
                        </div>
                        <div>
                            <input type="submit" class="button" value="Salvar" id="salvar-livro">
                            <button type="button" class="button" id="cancelar-edicao" style="background: #666;">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- RelatÃ³rios -->
            <section id="sec-relatorios" class="report-container" aria-label="RelatÃ³rios de livros" hidden>
                <h2>RelatÃ³rios</h2>
                <div class="action-buttons">
                    <button class="button" id="export-csv" aria-label="Exportar CSV">Exportar CSV</button>
                    <button class="button" id="export-json" aria-label="Exportar JSON">Exportar JSON</button>
                </div>
                <div id="report-output">
                    <h3>EstatÃ­sticas da Biblioteca</h3>
                    <p>Total de Livros: <span id="total-livros">0</span></p>
                    <p>Livros DisponÃ­veis: <span id="livros-disponiveis">0</span></p>
                    <p>Livros Emprestados: <span id="livros-emprestados">0</span></p>
                    <p>Livros por GÃªnero:</p>
                    <ul id="livros-por-genero"></ul>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Detalhes -->
    <div id="modal-detalhes" class="modal" hidden>
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <img id="modal-capa" src="" alt="Capa do livro">
            <div class="details">
                <h2 id="modal-titulo"></h2>
                <p><strong>Autor:</strong> <span id="modal-autor"></span></p>
                <p><strong>PÃ¡ginas:</strong> <span id="modal-paginas"></span></p>
                <p><strong>Ano:</strong> <span id="modal-ano"></span></p>
                <p><strong>ISBN:</strong> <span id="modal-isbn"></span></p>
                <p><strong>GÃªnero:</strong> <span id="modal-genero"></span></p>
                <p><strong>Status:</strong> <span id="modal-status"></span></p>
                <div class="form-group">
                    <label><strong>DescriÃ§Ã£o:</strong></label>
                    <p id="modal-descricao" style="white-space: pre-wrap; margin-top:6px; color:#333;"></p>
                </div>
                <div class="action-buttons">
                    <button class="button btn-editar" id="editar-livro">Editar</button>
                    <button class="button btn-excluir" id="excluir-livro">Excluir</button>
                    <button class="button btn-emprestar" id="emprestar-livro" style="display: none;">Emprestar</button>
                    <button class="button btn-devolver" id="devolver-livro" style="display: none;">Devolver</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal EmprÃ©stimo -->
    <div id="modal-emprestimo" class="modal" hidden>
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Gerenciar EmprÃ©stimo</h2>
            <div class="form-group">
                <label for="livro-emprestimo">Selecionar Livro:</label>
                <select id="livro-emprestimo">
                    <option value="">Selecione um livro</option>
                </select>
            </div>
            <div class="form-group">
                <label for="nome-pessoa">Nome da Pessoa:</label>
                <input type="text" id="nome-pessoa" placeholder="Digite o nome">
            </div>
            <div class="form-group">
                <label for="data-emprestimo">Data de EmprÃ©stimo:</label>
                <input type="date" id="data-emprestimo">
            </div>
            <div class="form-group">
                <label for="data-devolucao">Data de DevoluÃ§Ã£o:</label>
                <input type="date" id="data-devolucao">
            </div>
            <div class="action-buttons">
                <button class="button" id="confirmar-emprestimo">Registrar EmprÃ©stimo</button>
                <button class="button" id="confirmar-devolucao">Registrar DevoluÃ§Ã£o</button>
            </div>
            <div id="historico-emprestimos" style="margin-top: 20px;">
                <h3>HistÃ³rico de EmprÃ©stimos</h3>
                <ul id="lista-emprestimos"></ul>
            </div>
        </div>
    </div>

    <!-- Footer acolhedor -->
    <footer class="site-footer">
        <div class="footer-inner">
            <p>"Um livro Ã© um sonho que vocÃª segura nas mÃ£os." â€” Aproveite a leitura no nosso cantinho.</p>
            <div class="footer-icons">â˜• ðŸ“š ðŸŒ¿</div>
        </div>
    </footer>

    <script src="js/main.js"></script>
</body>
</html>